<p id="notice"><%= notice %></p>

<section class="columns is-centered">
  <div class="column event is-4">
    <div class="box">
      <p>
        <strong>Title:</strong>
        <%= @event.title %>
      </p>

      <p>
        <strong>Description:</strong>
        <%= @event.description %>
      </p>

      <p>
        <strong>Location:</strong>
        <%= @event.location %>
      </p>

      <p>
        <strong>Date:</strong>
        <%= @event.date %>
      </p>

<%= link_to 'Back', root_path %> | 
<% if user_signed_in? %>
  <% if current_user.username == @event.creator.username %>
    <%= link_to 'Edit', edit_event_path(@event) %> |
    <%= link_to 'Cancel Event', event_path, method: :delete, data: { confirm: "Are you sure you want to cancel this event?" } %> |
  <% else %>
    <% if current_user.attended_events.include?(@event) %>
      <%= button_to 'Cancel Attendance', rsvp_path(event_id: @event.id, user_id: current_user.id), method: :patch %>
    <% else %>
      <%= button_to 'RSVP', rsvp_path(event_id: @event.id), method: :post %>
    <% end %>
  <% end %>
<% end %>
</div>
</div>
</section>

<div class="column is-full">
<div class="columns is-multiline is-centered">
  <div class="box">
  <h1>Attendees</h1>
  <% @event.attendees.each do |user| %>
    <div class="column is-one-quarter">
      <%= user.username %>
    </div>
  <% end %>
  </div>
  </div>
</div>
